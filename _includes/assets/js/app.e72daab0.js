(function(e){function t(t){for(var s,n,o=t[0],l=t[1],c=t[2],u=0,_=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&_.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(_.length)_.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(i.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},r={app:0},i=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"content-wrapper"},[1==e.current_step.number?a("div",{staticClass:"order-content order-step1"},[a("div",{staticClass:"order-center"},[a("div",{staticClass:"order-step-title"},[e._v(" Stap 1 - Kies je ticket ")]),a("div",{staticClass:"order-step-tooltip"},[e._v(" Kies welke dag je wilt komen. ")]),a("div",{staticClass:"ticket-table"},[e._m(0),e._l(e.tickets,(function(t){return a("div",{staticClass:"ticket-table-row"},[1==t.available?a("div",{staticClass:"ticket-amount"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.user_selected_amount,expression:"ticket.user_selected_amount"}],staticClass:"combi-amount",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"user_selected_amount",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"0"}},[e._v("0")]),a("option",{attrs:{value:"1"}},[e._v("1")]),a("option",{attrs:{value:"2"}},[e._v("2")]),a("option",{attrs:{value:"3"}},[e._v("3")]),a("option",{attrs:{value:"4"}},[e._v("4")]),a("option",{attrs:{value:"5"}},[e._v("5")]),a("option",{attrs:{value:"6"}},[e._v("6")])])]):a("div",{staticClass:"ticket-amount"},[e._m(1,!0)]),a("div",{staticClass:"ticket-desc"},[a("div",{staticClass:"ticket-name"},[e._v(" "+e._s(t.name)+" ")]),a("div",{staticClass:"ticket-tooltip"},[4==t.id?a("div",[e._v(" Vrijdag of Zaterdag, Enkele reis ")]):e._e(),5==t.id?a("div",[e._v(" Vrijdag of Zaterdag, Retour ")]):e._e(),6==t.id?a("div",[e._v(" Zaterdag, vanaf Station Sassenheim of Voorhout, Enkele reis ")]):e._e(),7==t.id?a("div",[e._v(" Zaterdag, vanaf Station Sassenheim of Voorhout, Retour ")]):e._e()])]),a("div",{staticClass:"ticket-price"},[a("div",{staticClass:"price"},[e._v(" € "+e._s(t.price)+" ")]),a("div",{staticClass:"service-costs"},[e._v(" + € "+e._s(t.costs)+" service kosten ")])])])}))],2),!1!==e.current_step.errors?a("div",{staticClass:"order-error-msg",staticStyle:{display:"block !important"}},[e._v(" "+e._s(e.current_step.errors)+" ")]):e._e(),a("div",{staticClass:"next-step-button step2-trigger",on:{click:e.validateStep1}},[e._v(" Vul je gegevens in "),a("i",{staticClass:"fa fa-chevron-right"})]),a("div",{staticClass:"clear"}),a("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 2 -Jouw gegevens ")]),a("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 3 - Kies een betaalmethode ")]),a("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 4 - Bevestiging ")])])]):e._e(),2==e.current_step.number?a("div",{staticClass:"order-content order-content-flex order-step2"},[a("div",{staticClass:"order-step-left-box"},[e._m(2),a("div",{staticClass:"order-step-title"},[e._v(" Stap 2 -Jouw gegevens ")]),a("div",{staticClass:"order-step-tooltip"},[e._v(" We hebben een aantal gegevens van je nodig ")]),a("div",{staticClass:"order-step2-content"},[a("div",{staticClass:"input-holder"},[a("label",[e._v("Jouw e-mail adres")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.email,expression:"user_info.email"}],staticClass:"email",attrs:{type:"text",name:"email",placeholder:"voorbeeld@email.nl"},domProps:{value:e.user_info.email},on:{input:function(t){t.target.composing||e.$set(e.user_info,"email",t.target.value)}}})]),a("div",{staticClass:"input-holder"},[a("label",[e._v("Bevestig jouw e-mail adres")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.confirm_email,expression:"user_info.confirm_email"}],staticClass:"email-confirm",attrs:{type:"text",name:"email-confirm",placeholder:"voorbeeld@email.nl"},domProps:{value:e.user_info.confirm_email},on:{input:function(t){t.target.composing||e.$set(e.user_info,"confirm_email",t.target.value)}}})]),a("div",{staticClass:"input-holder"},[a("label",[e._v("Voornaam")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.first_name,expression:"user_info.first_name"}],staticClass:"first-name",attrs:{type:"text",name:"first-name",placeholder:"Hier je voornaam"},domProps:{value:e.user_info.first_name},on:{input:function(t){t.target.composing||e.$set(e.user_info,"first_name",t.target.value)}}})]),a("div",{staticClass:"input-holder"},[a("label",[e._v("Achternaam")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.last_name,expression:"user_info.last_name"}],staticClass:"last-name",attrs:{type:"text",name:"last-name",placeholder:"En hier je achternaam"},domProps:{value:e.user_info.last_name},on:{input:function(t){t.target.composing||e.$set(e.user_info,"last_name",t.target.value)}}})]),a("div",{staticClass:"input-holder"},[a("div",{staticClass:"checkbox-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.news_letter_optin,expression:"user_info.news_letter_optin"}],attrs:{type:"checkbox",name:"newsletter-signup"},domProps:{checked:Array.isArray(e.user_info.news_letter_optin)?e._i(e.user_info.news_letter_optin,null)>-1:e.user_info.news_letter_optin},on:{change:function(t){var a=e.user_info.news_letter_optin,s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&e.$set(e.user_info,"news_letter_optin",a.concat([i])):n>-1&&e.$set(e.user_info,"news_letter_optin",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.user_info,"news_letter_optin",r)}}}),e._v(" Ja, ik wil ook de Loungefest nieuwsbrief ontvangen en geef dus toestemming aan de organisatie om mij e-mails te sturen. ")])]),a("div",{staticClass:"input-holder"},[a("div",{staticClass:"checkbox-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.general_terms,expression:"user_info.general_terms"}],attrs:{type:"checkbox",name:"general-terms"},domProps:{checked:Array.isArray(e.user_info.general_terms)?e._i(e.user_info.general_terms,null)>-1:e.user_info.general_terms},on:{change:function(t){var a=e.user_info.general_terms,s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&e.$set(e.user_info,"general_terms",a.concat([i])):n>-1&&e.$set(e.user_info,"general_terms",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.user_info,"general_terms",r)}}}),e._v(" Ik ga akkoord met de "),a("a",{attrs:{href:"https://www.loungefest.nl/files/documenten/algemene-voorwaarden-stichting-nyce.pdf"}},[e._v("Algemene Voorwaarden")])])]),!1!==e.current_step.errors?a("div",{staticClass:"order-error-msg email-error",staticStyle:{display:"block !important"}},[e._v(" "+e._s(e.current_step.errors)+" ")]):e._e(),a("div",{staticClass:"prev-step-button step1-trigger",on:{click:function(t){return e.stepBack(1)}}},[a("i",{staticClass:"fa fa-chevron-left"}),e._v(" Terug ")]),a("div",{staticClass:"next-step-button step3-trigger",on:{click:e.validateStep2}},[e._v(" Kies je betaalmethode "),a("i",{staticClass:"fa fa-chevron-right"})]),a("div",{staticClass:"clear"}),a("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 3 - Kies een betaalmethode ")]),a("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 4 - Bevestiging ")])])]),a("div",{staticClass:"order-step-shopcart"},[a("div",{staticClass:"order-step-title"},[e._v(" Jouw kaartjes ")]),a("div",{staticClass:"chosen-order-table"},[e._l(e.selectedTickets,(function(t){return a("div",[a("div",{staticClass:"total-tickets total-tickets-combi"},[a("div",{staticClass:"combi-amount-tickets amount-tickets"},[e._v(" "+e._s(t.user_selected_amount)+" x "+e._s(t.name)+" ")]),a("div",{staticClass:"combi-amount-price amount-price"},[e._v(" € "+e._s(t.price+t.costs)+" ")])])])})),a("div",{staticClass:"total-tickets order-total-wrap"},[e._m(3),a("div",{staticClass:"order-total-price amount-price"},[e._v(" € "+e._s(e.totalPrice)+" ")])]),e._m(4)],2)])]):e._e(),3==e.current_step.number?a("div",{staticClass:"order-content order-step3 order-content-flex"},[a("div",{staticClass:"order-step-left-box"},[e._m(5),e._m(6),a("div",{staticClass:"order-step-title"},[e._v(" Stap 3 - Kies een betaalmethode ")]),a("div",{staticClass:"order-step-tooltip"},[e._v(" Op welke manier wil je betalen? ")]),e._l(e.current_order.payment_methods,(function(t){return a("div",[a("div",{staticClass:"input-holder"},[a("div",{staticClass:"checkbox-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.selected_payment_method,expression:"user_info.selected_payment_method"}],staticClass:"checkbox-input",attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.user_info.selected_payment_method,t)},on:{change:function(a){return e.$set(e.user_info,"selected_payment_method",t)}}}),"ideal"==t.name?a("div",{staticStyle:{display:"inline"}},[e._v(" iDeal (+ € 0,30) "),e._m(7,!0)]):e._e()])])])})),a("div",{staticClass:"prev-step-button step2-trigger",on:{click:function(t){return e.stepBack(2)}}},[a("i",{staticClass:"fa fa-chevron-left"}),e._v(" Terug ")]),a("div",{staticClass:"next-step-button step4-trigger",on:{click:e.validateStep3}},[e._v(" Ga naar betalen "),a("i",{staticClass:"fa fa-chevron-right"})]),a("div",{staticClass:"clear"}),a("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 4 - Bevestiging ")])],2),a("div",{staticClass:"order-step-shopcart"},[a("div",{staticClass:"order-step-title"},[e._v(" Jouw kaartjes ")]),a("div",{staticClass:"chosen-order-table"},[e._l(e.selectedTickets,(function(t){return a("div",[a("div",{staticClass:"total-tickets total-tickets-combi"},[a("div",{staticClass:"combi-amount-tickets amount-tickets"},[e._v(" "+e._s(t.user_selected_amount)+" x "+e._s(t.name)+" ")]),a("div",{staticClass:"combi-amount-price amount-price"},[e._v(" € "+e._s(t.price+t.costs)+" ")])])])})),a("div",{staticClass:"total-tickets order-total-wrap"},[e._m(8),a("div",{staticClass:"order-total-price amount-price"},[e._v(" € "+e._s(e.totalPrice)+" ")])]),e._m(9)],2)])]):e._e(),4==e.current_step.number?a("div",{staticClass:"order-content order-step4"},[e._v(" Overzicht van je bestelling ")]):e._e()])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ticket-table-h-row"},[a("div",{staticClass:"ticket-amount"},[e._v(" Aantal ")]),a("div",{staticClass:"ticket-desc"},[e._v(" Soort ")]),a("div",{staticClass:"ticket-price"},[e._v(" Prijs ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("select",{staticClass:"combi-amount",attrs:{disabled:""}},[a("option",{attrs:{value:"0"}},[e._v("0")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-step-title disabled reversed-line"},[e._v(" Stap 1 - Kies je ticket "),a("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-total amount-tickets"},[a("b",[e._v("Totaal")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prev-step-button step1-trigger"},[a("i",{staticClass:"fa fa-chevron-left"}),e._v(" Je kaarten aanpassen ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-step-title disabled reversed-line"},[e._v(" Stap 1 - Kies je ticket "),a("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-step-title disabled reversed-line"},[e._v(" Stap 2 -Jouw gegevens "),a("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"payment-logo"},[a("img",{attrs:{src:"static/img/ideal-logo.png"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-total amount-tickets"},[a("b",[e._v("Totaal")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prev-step-button step1-trigger"},[a("i",{staticClass:"fa fa-chevron-left"}),e._v(" Je kaarten aanpassen ")])}],n={name:"app",data:function(){return{uid_counter:0,event_id:1,api_base_url:"https://api.ticketchef.nl/public/",current_step:{},steps:[{number:1,name_clean:"step_1",valid:!1,errors:!1},{number:2,name_clean:"step_2",valid:!1,errors:!1},{number:3,name_clean:"step_3",valid:!1,errors:!1},{number:4,name_clean:"step_4",valid:!1,errors:!1}],tickets:[],user_info:{email:"",confirm_email:"",first_name:"",last_name:"",city:"",news_letter_optin:!0,general_terms:!1,selected_payment_method:!1},current_order:!1}},methods:{stepBack:function(e){var t=this;t.current_step=t.steps[e-1]},validateStep1:function(){var e=this;e.current_step.valid=!0,e.selectedTickets<1&&(e.current_step.valid=!1,e.current_step.errors="Hey, je moet wel meer dan 0 tickets bestellen..."),1==e.current_step.valid&&($(".order-step2").fadeOut(100),$(".order-step1").removeClass("in-active"),$(".order-step1").delay(100).fadeIn(100),e.current_step=e.steps[1])},validateStep2:function(){var e=this;if(e.current_step.valid=!0,""!=e.user_info.email&&""!=e.user_info.confirm_email&&""!=e.user_info.first_name&&""!=e.user_info.last_name||(e.current_step.valid=!1,e.current_step.errors="We missen nog wat gegevens van je..."),1==e.current_step.valid&&e.user_info.email!=e.user_info.confirm_email&&(e.current_step.valid=!1,e.current_step.errors="Je e-mail adressen zijn niet het zelfde."),!0===e.current_step.valid&&!1===e.user_info.general_terms&&(e.current_step.valid=!1,e.current_step.errors="U heeft de Algemene voorwaarden nog niet geaccepteerd."),1==e.current_step.valid){var t=e.createOrder(),a=e.api_base_url+"orders/create";axios.post(a,t).then((function(t){200==t.status&&"OK"==t.data.status?(e.current_order={expiration_time:t.data.expirationTime,payment_methods:t.data.paymentMethods,price_total:t.data.priceTotal,uuid:t.data.uuid},e.current_step=e.steps[2]):alert("Er was een probleem met het aanmaken van de bestelling, probeer het later nogmaals.")})).catch((function(e){console.log(e),alert("Er was een probleem met het aanmaken van de bestelling, probeer het later nogmaals.")}))}},validateStep3:function(){var e=this,t=e.api_base_url+"orders/payment",a={reservationUuid:e.current_order.uuid,customer:{name:e.user_info.first_name+" "+e.user_info.last_name,email:e.user_info.email,mailable:e.user_info.news_letter_optin},parameters:{paymentMethod:e.user_info.selected_payment_method.name}};axios.post(t,a).then((function(e){200==e.status&&"OK"==e.data.status?(console.log(e),window.location.replace(e.data.redirect)):(console.log(e),alert("Er was een probleem met doorsturen naar de betaal pagina, heb je wel een betaaldienst gekozen? Probeer het anders later nogmaals."))})).catch((function(e){console.log(e),alert("Er was een probleem met doorsturen naar de betaal pagina, heb je wel een betaaldienst gekozen? Probeer het anders later nogmaals.")}))},createOrder:function(){var e=this,t=[];_.each(e.selectedTickets,(function(e){t.push({id:e.id,quantity:e.user_selected_amount})}));var a={eventId:e.event_id,orderLines:t};return a},createTicket:function(e){var t=this;t.uid_counter=t.uid_counter+1;var a={uid:t.uid_counter,id:e.id,name:e.name,price:e.price,costs:e.costs,available:e.available,image:e.image,thumbnail:e.thumbnail,user_selected_amount:0};return a},getAvailableTickets:function(){var e=this;e.tickets=[];var t=e.api_base_url+"tickets/"+e.event_id;axios.get(t).then((function(t){200==t.status&&t.data.length>0?_.each(t.data,(function(t){var a=e.createTicket(t);e.tickets.push(a)})):alert("Er is een probleem bij het laden van de tickets, probeer het later nogmaals.")})).catch((function(e){console.log(e),alert("Er is een probleem bij het laden van de tickets, probeer het later nogmaals.")}))}},computed:{selectedTickets:function(){var e=this,t=[];return _.each(e.tickets,(function(e){e.user_selected_amount>0&&t.push(e)})),t},totalPrice:function(){var e=this,t=0;return _.each(e.selectedTickets,(function(e){t+=(e.price+e.costs)*e.user_selected_amount})),t}},mounted(){var e=this;e.current_step=e.steps[0],e.getAvailableTickets()}},o=n,l=a("2877"),c=Object(l["a"])(o,r,i,!1,null,null,null),d=c.exports;window._=a("2ef0"),window.$=a("1157"),window.axios=a("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",new s["a"]({render:e=>e(d)}).$mount("#app")}});
//# sourceMappingURL=app.e72daab0.js.map