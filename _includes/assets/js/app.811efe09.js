(function(e){function t(t){for(var a,n,o=t[0],l=t[1],c=t[2],u=0,_=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&_.push(r[n][0]),r[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(_.length)_.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},i=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"content-wrapper"},[1==e.current_step.number?s("div",{staticClass:"order-content order-step1"},[s("div",{staticClass:"order-center"},[s("div",{staticClass:"order-step-title"},[e._v(" Stap 1 - Kies je ticket ")]),s("div",{staticClass:"order-step-tooltip"},[e._v(" Kies welke dag je wilt komen. ")]),s("div",{staticClass:"ticket-table"},[e._m(0),e._l(e.tickets,(function(t){return s("div",{staticClass:"ticket-table-row"},[1==t.available?s("div",{staticClass:"ticket-amount"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.user_selected_amount,expression:"ticket.user_selected_amount"}],staticClass:"combi-amount",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"user_selected_amount",s.target.multiple?a:a[0])}}},[s("option",{attrs:{value:"0"}},[e._v("0")]),s("option",{attrs:{value:"1"}},[e._v("1")]),s("option",{attrs:{value:"2"}},[e._v("2")]),s("option",{attrs:{value:"3"}},[e._v("3")]),s("option",{attrs:{value:"4"}},[e._v("4")]),s("option",{attrs:{value:"5"}},[e._v("5")]),s("option",{attrs:{value:"6"}},[e._v("6")])])]):s("div",{staticClass:"ticket-amount"},[e._m(1,!0)]),s("div",{staticClass:"ticket-desc"},[s("div",{staticClass:"ticket-name"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"ticket-tooltip"},[1==t.id?s("div",[e._v(" Vrijdag & Zaterdag ")]):e._e()])]),s("div",{staticClass:"ticket-price"},[s("div",{staticClass:"price"},[e._v(" € "+e._s(t.price)+" ")]),s("div",{staticClass:"service-costs"},[e._v(" + € "+e._s(t.costs)+" service kosten ")])])])}))],2),!1!==e.current_step.errors?s("div",{staticClass:"order-error-msg",staticStyle:{display:"block !important"}},[e._v(" "+e._s(e.current_step.errors)+" ")]):e._e(),s("div",{staticClass:"next-step-button step2-trigger",on:{click:e.validateStep1}},[e._v(" Vul je gegevens in "),s("i",{staticClass:"fa fa-chevron-right"})]),s("div",{staticClass:"clear"}),s("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 2 -Jouw gegevens ")]),s("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 3 - Kies een betaalmethode ")]),s("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 4 - Bevestiging ")])])]):e._e(),2==e.current_step.number?s("div",{staticClass:"order-content order-content-flex order-step2"},[s("div",{staticClass:"order-step-left-box"},[e._m(2),s("div",{staticClass:"order-step-title"},[e._v(" Stap 2 -Jouw gegevens ")]),s("div",{staticClass:"order-step-tooltip"},[e._v(" We hebben een aantal gegevens van je nodig ")]),s("div",{staticClass:"order-step2-content"},[s("div",{staticClass:"input-holder"},[s("label",[e._v("Jouw e-mail adres")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.email,expression:"user_info.email"}],staticClass:"email",attrs:{type:"text",name:"email",placeholder:"voorbeeld@email.nl"},domProps:{value:e.user_info.email},on:{input:function(t){t.target.composing||e.$set(e.user_info,"email",t.target.value)}}})]),s("div",{staticClass:"input-holder"},[s("label",[e._v("Bevestig jouw e-mail adres")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.confirm_email,expression:"user_info.confirm_email"}],staticClass:"email-confirm",attrs:{type:"text",name:"email-confirm",placeholder:"voorbeeld@email.nl"},domProps:{value:e.user_info.confirm_email},on:{input:function(t){t.target.composing||e.$set(e.user_info,"confirm_email",t.target.value)}}})]),s("div",{staticClass:"input-holder"},[s("label",[e._v("Voornaam")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.first_name,expression:"user_info.first_name"}],staticClass:"first-name",attrs:{type:"text",name:"first-name",placeholder:"Hier je voornaam"},domProps:{value:e.user_info.first_name},on:{input:function(t){t.target.composing||e.$set(e.user_info,"first_name",t.target.value)}}})]),s("div",{staticClass:"input-holder"},[s("label",[e._v("Achternaam")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.last_name,expression:"user_info.last_name"}],staticClass:"last-name",attrs:{type:"text",name:"last-name",placeholder:"En hier je achternaam"},domProps:{value:e.user_info.last_name},on:{input:function(t){t.target.composing||e.$set(e.user_info,"last_name",t.target.value)}}})]),s("div",{staticClass:"input-holder"},[s("div",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.news_letter_optin,expression:"user_info.news_letter_optin"}],attrs:{type:"checkbox",name:"newsletter-signup"},domProps:{checked:Array.isArray(e.user_info.news_letter_optin)?e._i(e.user_info.news_letter_optin,null)>-1:e.user_info.news_letter_optin},on:{change:function(t){var s=e.user_info.news_letter_optin,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.user_info,"news_letter_optin",s.concat([i])):n>-1&&e.$set(e.user_info,"news_letter_optin",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.user_info,"news_letter_optin",r)}}}),e._v(" Ja, ik wil ook de Loungefest nieuwsbrief ontvangen en geef dus toestemming aan de organisatie om mij e-mails te sturen. ")])]),s("div",{staticClass:"input-holder"},[s("div",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.general_terms,expression:"user_info.general_terms"}],attrs:{type:"checkbox",name:"general-terms"},domProps:{checked:Array.isArray(e.user_info.general_terms)?e._i(e.user_info.general_terms,null)>-1:e.user_info.general_terms},on:{change:function(t){var s=e.user_info.general_terms,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&e.$set(e.user_info,"general_terms",s.concat([i])):n>-1&&e.$set(e.user_info,"general_terms",s.slice(0,n).concat(s.slice(n+1)))}else e.$set(e.user_info,"general_terms",r)}}}),e._v(" Ik ga akkoord met de "),s("a",{attrs:{href:"https://www.loungefest.nl/files/documenten/algemene-voorwaarden-stichting-nyce.pdf"}},[e._v("Algemene Voorwaarden")])])]),!1!==e.current_step.errors?s("div",{staticClass:"order-error-msg email-error",staticStyle:{display:"block !important"}},[e._v(" "+e._s(e.current_step.errors)+" ")]):e._e(),s("div",{staticClass:"prev-step-button step1-trigger",on:{click:function(t){return e.stepBack(1)}}},[s("i",{staticClass:"fa fa-chevron-left"}),e._v(" Terug ")]),s("div",{staticClass:"next-step-button step3-trigger",on:{click:e.validateStep2}},[e._v(" Kies je betaalmethode "),s("i",{staticClass:"fa fa-chevron-right"})]),s("div",{staticClass:"clear"}),s("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 3 - Kies een betaalmethode ")]),s("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 4 - Bevestiging ")])])]),s("div",{staticClass:"order-step-shopcart"},[s("div",{staticClass:"order-step-title"},[e._v(" Jouw kaartjes ")]),s("div",{staticClass:"chosen-order-table"},[e._l(e.selectedTickets,(function(t){return s("div",[s("div",{staticClass:"total-tickets total-tickets-combi"},[s("div",{staticClass:"combi-amount-tickets amount-tickets"},[e._v(" "+e._s(t.user_selected_amount)+" x "+e._s(t.name)+" ")]),s("div",{staticClass:"combi-amount-price amount-price"},[e._v(" € "+e._s(t.price+t.costs)+" ")])])])})),s("div",{staticClass:"total-tickets order-total-wrap"},[e._m(3),s("div",{staticClass:"order-total-price amount-price"},[e._v(" € "+e._s(e.totalPrice)+" ")])]),e._m(4)],2)])]):e._e(),3==e.current_step.number?s("div",{staticClass:"order-content order-step3 order-content-flex"},[s("div",{staticClass:"order-step-left-box"},[e._m(5),e._m(6),s("div",{staticClass:"order-step-title"},[e._v(" Stap 3 - Kies een betaalmethode ")]),s("div",{staticClass:"order-step-tooltip"},[e._v(" Op welke manier wil je betalen? ")]),e._l(e.current_order.payment_methods,(function(t){return s("div",[s("div",{staticClass:"input-holder"},[s("div",{staticClass:"checkbox-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info.selected_payment_method,expression:"user_info.selected_payment_method"}],staticClass:"checkbox-input",attrs:{type:"radio"},domProps:{value:t,checked:e._q(e.user_info.selected_payment_method,t)},on:{change:function(s){return e.$set(e.user_info,"selected_payment_method",t)}}}),"ideal"==t.name?s("div",{staticStyle:{display:"inline"}},[e._v(" iDeal (+ € 0,35) "),e._m(7,!0)]):e._e()])])])})),s("div",{staticClass:"prev-step-button step2-trigger",on:{click:function(t){return e.stepBack(2)}}},[s("i",{staticClass:"fa fa-chevron-left"}),e._v(" Terug ")]),s("div",{staticClass:"next-step-button step4-trigger",on:{click:e.validateStep3}},[e._v(" Ga naar betalen "),s("i",{staticClass:"fa fa-chevron-right"})]),s("div",{staticClass:"clear"}),s("div",{staticClass:"order-step-title disabled"},[e._v(" Stap 4 - Bevestiging ")])],2),s("div",{staticClass:"order-step-shopcart"},[s("div",{staticClass:"order-step-title"},[e._v(" Jouw kaartjes ")]),s("div",{staticClass:"chosen-order-table"},[e._l(e.selectedTickets,(function(t){return s("div",[s("div",{staticClass:"total-tickets total-tickets-combi"},[s("div",{staticClass:"combi-amount-tickets amount-tickets"},[e._v(" "+e._s(t.user_selected_amount)+" x "+e._s(t.name)+" ")]),s("div",{staticClass:"combi-amount-price amount-price"},[e._v(" € "+e._s(t.price+t.costs)+" ")])])])})),s("div",{staticClass:"total-tickets order-total-wrap"},[e._m(8),s("div",{staticClass:"order-total-price amount-price"},[e._v(" € "+e._s(e.totalPrice)+" ")])]),e._m(9)],2)])]):e._e(),4==e.current_step.number?s("div",{staticClass:"order-content order-step4"},[e._v(" Overzicht van je bestelling ")]):e._e()])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ticket-table-h-row"},[s("div",{staticClass:"ticket-amount"},[e._v(" Aantal ")]),s("div",{staticClass:"ticket-desc"},[e._v(" Soort ")]),s("div",{staticClass:"ticket-price"},[e._v(" Prijs ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("select",{staticClass:"combi-amount",attrs:{disabled:""}},[s("option",{attrs:{value:"0"}},[e._v("0")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-title disabled reversed-line"},[e._v(" Stap 1 - Kies je ticket "),s("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-total amount-tickets"},[s("b",[e._v("Totaal")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prev-step-button step1-trigger"},[s("i",{staticClass:"fa fa-chevron-left"}),e._v(" Je kaarten aanpassen ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-title disabled reversed-line"},[e._v(" Stap 1 - Kies je ticket "),s("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-step-title disabled reversed-line"},[e._v(" Stap 2 -Jouw gegevens "),s("i",{staticClass:"fa fa-check"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"payment-logo"},[s("img",{attrs:{src:"assets/images/ideal-logo.png"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-total amount-tickets"},[s("b",[e._v("Totaal")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prev-step-button step1-trigger"},[s("i",{staticClass:"fa fa-chevron-left"}),e._v(" Je kaarten aanpassen ")])}],n={name:"app",data:function(){return{uid_counter:0,event_id:1,api_base_url:"https://api.ticketchef.nl/public/",current_step:{},steps:[{number:1,name_clean:"step_1",valid:!1,errors:!1},{number:2,name_clean:"step_2",valid:!1,errors:!1},{number:3,name_clean:"step_3",valid:!1,errors:!1},{number:4,name_clean:"step_4",valid:!1,errors:!1}],tickets:[],user_info:{email:"",confirm_email:"",first_name:"",last_name:"",city:"",news_letter_optin:!0,general_terms:!1,selected_payment_method:!1},current_order:!1}},methods:{stepBack:function(e){var t=this;t.current_step=t.steps[e-1]},validateStep1:function(){var e=this;e.current_step.valid=!0,e.selectedTickets<1&&(e.current_step.valid=!1,e.current_step.errors="Hey, je moet wel meer dan 0 tickets bestellen..."),1==e.current_step.valid&&($(".order-step2").fadeOut(100),$(".order-step1").removeClass("in-active"),$(".order-step1").delay(100).fadeIn(100),e.current_step=e.steps[1])},validateStep2:function(){var e=this;if(e.current_step.valid=!0,""!=e.user_info.email&&""!=e.user_info.confirm_email&&""!=e.user_info.first_name&&""!=e.user_info.last_name||(e.current_step.valid=!1,e.current_step.errors="We missen nog wat gegevens van je..."),1==e.current_step.valid&&e.user_info.email!=e.user_info.confirm_email&&(e.current_step.valid=!1,e.current_step.errors="Je e-mail adressen zijn niet het zelfde."),!0===e.current_step.valid&&!1===e.user_info.general_terms&&(e.current_step.valid=!1,e.current_step.errors="U heeft de Algemene voorwaarden nog niet geaccepteerd."),1==e.current_step.valid){var t=e.createOrder(),s=e.api_base_url+"orders/create";axios.post(s,t).then((function(t){200==t.status&&"OK"==t.data.status?(e.current_order={expiration_time:t.data.expirationTime,payment_methods:t.data.paymentMethods,price_total:t.data.priceTotal,uuid:t.data.uuid},e.current_step=e.steps[2]):alert("Er was een probleem met het aanmaken van de bestelling, probeer het later nogmaals.")})).catch((function(e){console.log(e),alert("Er was een probleem met het aanmaken van de bestelling, probeer het later nogmaals.")}))}},validateStep3:function(){var e=this,t=e.api_base_url+"orders/payment",s={reservationUuid:e.current_order.uuid,customer:{name:e.user_info.first_name+" "+e.user_info.last_name,email:e.user_info.email,mailable:e.user_info.news_letter_optin},parameters:{paymentMethod:e.user_info.selected_payment_method.name}};axios.post(t,s).then((function(e){200==e.status&&"OK"==e.data.status?(console.log(e),window.location.replace(e.data.redirect)):(console.log(e),alert("Er was een probleem met doorsturen naar de betaal pagina, heb je wel een betaaldienst gekozen? Probeer het anders later nogmaals."))})).catch((function(e){console.log(e),alert("Er was een probleem met doorsturen naar de betaal pagina, heb je wel een betaaldienst gekozen? Probeer het anders later nogmaals.")}))},createOrder:function(){var e=this,t=[];_.each(e.selectedTickets,(function(e){t.push({id:e.id,quantity:e.user_selected_amount})}));var s={eventId:e.event_id,orderLines:t};return s},createTicket:function(e){var t=this;t.uid_counter=t.uid_counter+1;var s={uid:t.uid_counter,id:e.id,name:e.name,price:e.price,costs:e.costs,available:e.available,image:e.image,thumbnail:e.thumbnail,user_selected_amount:0};return s},getAvailableTickets:function(){var e=this;e.tickets=[];var t=e.api_base_url+"tickets/"+e.event_id;axios.get(t).then((function(t){200==t.status&&t.data.length>0?_.each(t.data,(function(t){var s=e.createTicket(t);e.tickets.push(s)})):alert("Er is een probleem bij het laden van de tickets, probeer het later nogmaals.")})).catch((function(e){console.log(e),alert("Er is een probleem bij het laden van de tickets, probeer het later nogmaals.")}))}},computed:{selectedTickets:function(){var e=this,t=[];return _.each(e.tickets,(function(e){e.user_selected_amount>0&&t.push(e)})),t},totalPrice:function(){var e=this,t=0;return _.each(e.selectedTickets,(function(e){t+=(e.price+e.costs)*e.user_selected_amount})),t}},mounted(){var e=this;e.current_step=e.steps[0],e.getAvailableTickets()}},o=n,l=s("2877"),c=Object(l["a"])(o,r,i,!1,null,null,null),d=c.exports;window._=s("2ef0"),window.$=s("1157"),window.axios=s("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",new a["a"]({render:e=>e(d)}).$mount("#app")}});
//# sourceMappingURL=app.811efe09.js.map